```javascript
const obj = {
  show: true,
  users: [
    {
      name: "小明",
      url: "url1",
    },
    {
      name: "小红",
      url: "url2",
    },
  ],
};

const str = `
<ul>
  <% if (obj.show) { %>
    <% for (var i = 0; i < obj.users.length; i++) { %>
      <li>
        <a href="<%= obj.users[i].url %>">
          <%= obj.users[i].name %>
        </a>
      </li>
    <% } %>
  <% } else { %>
    <p>不展示列表</p>
  <% } %>
</ul>
`;
```

将 %> 替换成 p.push(' -> html+='
将 <% 替换成 '); -> ';
将 <%=xxx%> 替换成 ');p.push(xxx);p.push(' -> ';html+=xxx;html+='

```javascript
const str = `
html += '<ul>
  '; if (obj.show) { html+='
    '; for (var i = 0; i < obj.users.length; i++) { html+='
      <li>
        <a href=" ';html+= obj.users[i].url ;html+='">
          ';html+= obj.users[i].name ;html+='
        </a>
      </li>
    '; } html+='
  '; } else { html+='
    <p>不展示列表</p>
  '; } html+='
</ul>
';
`;

// 现在html字符串就是我们的html文档的innerHTML了。
```

```javascript
html = "";
html += "<ul>";

if (obj.show) {
  for (var i = 0; i < obj.users.length; i++) {
    html += '<li><a href="';
    html += obj.users[i].url;
    html += '">';
    html += obj.users[i].name;
    html += "</a></li>";
  }
} else {
  html += "<p>不展示列表</p>";
}

html += "</ul>";

container.innerHtml = html;
```
